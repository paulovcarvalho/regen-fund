(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{9086:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/usr/userProject",function(){return r(7701)}])},3034:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var a=r(5893),l=r(7294);let n=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}))}),s=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z",clipRule:"evenodd"}),l.createElement("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"}))}),o=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z"}))}),c=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z",clipRule:"evenodd"}),l.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"}))}),i=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z",clipRule:"evenodd"}),l.createElement("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z",clipRule:"evenodd"}))});var u=r(1163),d=function(e){var t=e.text,r=e.Icon,l=e.active,n=(0,u.useRouter)(),s="/usr/user"+t;return l=n.pathname==s,(0,a.jsxs)("div",{className:"flex items-center text-gray-700 font-Montserrat justify-center xl:justify-start text-l space-x-3 hover:font-bold  hover:text-regen-lighblue",onClick:function(){return n.push(s)},children:[(0,a.jsx)(r,{className:"h-5 ".concat(l&&"font-bold text-regen-lighblue"),onClick:function(){return n.push(s)}}),(0,a.jsxs)("span",{className:"hidden  xl:inline ".concat(l&&"font-bold text-regen-lighblue"),children:[" ",t]})]})},f=r(8163),m=function(){return(0,f.a)().user,(0,a.jsx)("div",{className:"py-12 ms:visible sm:flex flex-col items-center xl:items-start xl:w-[340px] p-2 fixed h-full",children:(0,a.jsxs)("div",{className:"space-y-8 mt-4 mb-2.5 xl:ml-24",children:[(0,a.jsx)(d,{text:"Profile",Icon:n,active:!0}),(0,a.jsx)(d,{text:"Project",Icon:s,active:!1}),(0,a.jsx)(d,{text:"Team",Icon:o,active:!1}),(0,a.jsx)(d,{text:"Community",Icon:c,active:!1}),(0,a.jsx)(d,{text:"LCI",Icon:i,active:!1})]})})}},7701:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7568),l=r(655),n=r(5893),s=r(7294),o=r(3034),c=r(8163),i=r(5321),u=r(2676),d=r(3750),f=r(774);function m(){var e=(0,s.useState)(null),t=(e[0],e[1]),r=(0,s.useState)(null);r[0],r[1];var m=(0,c.a)(),x=(0,s.useState)(!1),h=(x[0],x[1]),p=(0,s.useState)(null),b=p[0],g=p[1],v=(0,s.useRef)(null),j=(0,s.useState)(""),y=j[0],w=j[1],N=(0,s.useState)(""),k=N[0],E=N[1],M=(0,s.useState)("https://firebasestorage.googleapis.com/v0/b/regenfund.appspot.com/o/public%2Flogo.png?alt=media&token=9002acf7-1566-4b95-8c5a-6d49509af7ab"),P=M[0],O=M[1],S=(0,s.useState)(""),C=S[0],R=S[1],z=(0,s.useState)(""),_=z[0];z[1];var F=(0,s.useState)(""),L=F[0],I=F[1],U=(0,s.useState)(""),A=U[0],J=U[1],T=(0,s.useState)(""),B=(T[0],T[1]),Z=(0,s.useState)("Edit"),H=Z[0],q=Z[1],X=function(e){var t=new FileReader;e.target.files[0]&&t.readAsDataURL(e.target.files[0]),t.onload=function(e){g(e.target.result)}};function D(){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function(){var e,t,r,n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:if("Edit"!=H)return[3,1];return q("Save"),[3,8];case 1:return e=(0,i.IO)((0,i.hJ)(u.db,"Projects"),(0,i.ar)("admin","==",m.user.uid)),[4,(0,i.PL)(e)];case 2:if(t=r.sent(),console.log(t.empty,"This is the Querie"),g(null),!t.empty)return[3,4];return[4,(0,i.ET)((0,i.hJ)(u.db,"Projects"),{admin:m.user.uid,name:k,logoURL:P,storyOfProject:C,purpose:_,storyOfPlace:L,projectSite:A})];case 3:return w(r.sent().id),q("Edit"),[3,6];case 4:return[4,(0,i.pl)((0,i.JU)(u.db,"Projects",y),{admin:m.user.uid,name:k,logoURL:P,storyOfProject:C,purpose:_,storyOfPlace:L,projectSite:A})];case 5:r.sent(),q("Edit"),r.label=6;case 6:if(n=(0,f.iH)(u.tO,"projects/".concat(y,"/image")),!b)return[3,8];return[4,(0,f.sf)(n,b,"data_url").then((0,a.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,f.Jt)(n)];case 1:return e=t.sent(),[4,(0,i.r7)((0,i.JU)(u.db,"Projects",y),{logoURL:e})];case 2:return t.sent(),[2]}})}))];case 7:r.sent(),r.label=8;case 8:return[2]}})})).apply(this,arguments)}return(0,s.useEffect)(function(){function e(){return(e=(0,a.Z)(function(){var e,r,a;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),e=(0,i.IO)((0,i.hJ)(u.db,"Projects"),(0,i.ar)("admin","==",m.user.uid)),[4,(0,i.PL)(e)];case 1:return r=l.sent(),console.log(r,"doc ref"),r.empty||r.forEach(function(e){console.log(e.id," => ",e.data()),w(e.id),E(e.data().name),O(e.data().logoURL),R(e.data().storyOfProject),I(e.data().storyOfPlace),B(e.data().admin),J(e.data().projectSite)}),[3,4];case 2:return a=l.sent(),t("Failed to load Project"),console.log(a),[3,4];case 3:return h(!1),[7];case 4:return[2]}})})).apply(this,arguments)}!function(){return e.apply(this,arguments)}()},[]),(0,n.jsxs)("body",{children:[(0,n.jsx)("div",{className:"relative w-full h-full flex-col items-start py-20",children:(0,n.jsx)(o.Z,{})}),(0,n.jsxs)("main",{className:"w-[calc(100%-100px)] lg:w-[calc(100%-550px)] ml-auto max-h-screen flex max-w-[1500px] mx-auto flex-col",children:["Edit"==H&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center max-w-[800px] p-6 shadow-md rounded-xl sm:px-12 dark:bg-gray-900 dark:text-gray-100",children:[(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:D,className:"buttonType z-20",children:H})}),(0,n.jsx)("img",{src:P,alt:"",className:"w-32 h-32 mx-auto rounded-full dark:bg-gray-500 aspect-square"}),(0,n.jsxs)("div",{className:"space-y-4 text-center",children:[(0,n.jsxs)("div",{className:"my-2 space-y-1",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold sm:text-2xl",children:k}),(0,n.jsx)("p",{className:"px-5 text-xs sm:text-base dark:text-gray-300",children:_})]}),(0,n.jsx)("div",{className:"space-y-4 text-center divide-y divide-gray-300",children:(0,n.jsx)("p",{className:"px-5 text-xs font-thin sm:text-base dark:text-gray-300",children:C})}),(0,n.jsx)("div",{className:"flex justify-center pt-2 space-x-4 align-center",children:A&&(0,n.jsx)("a",{rel:"Facebook",href:A,"aria-label":"LinkedIn",className:"p-2 rounded-md dark:text-gray-100 hover:dark:text-violet-400",children:(0,n.jsx)(d.JuS,{className:"justify-center p-1 w-8 h-8 rounded-full mb-6 hover:bg-regen-sealighblue hover:rounded-full"})})})]})]})}),"Save"==H&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center max-w-[800px] p-6 shadow-md rounded-xl sm:px-12 dark:bg-gray-900 dark:text-gray-100",children:[(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:D,className:"buttonType z-20",children:H})}),(0,n.jsx)("img",{src:P,alt:"",className:"w-32 h-32 mx-auto rounded-full dark:bg-gray-500 aspect-square"}),(0,n.jsxs)("div",{className:"space-y-3 text-left py-10",children:[(0,n.jsxs)("div",{className:"space-y-0 text-left flex items-start",children:[(0,n.jsx)("label",{className:"block text-regen-blue text-sm font-semibold font-Montserratmb-2",htmlFor:"grid-password",children:"Logo URL"}),(0,n.jsx)("label",{className:"block px-2 text-regen-blue text-sm font-thin font-Montserratmb-2",htmlFor:"grid-password",children:"(add your logo)"})]}),(0,n.jsx)("input",{type:"text",value:P,onChange:function(e){return O(e.target.value)},placeholder:"Photo URL",className:" duration-300 font-thin text-sm rounded-md outline-gray-300 border border-grey focus:border-regen-sealighblue text-slate-900 p-2 w-full"}),(0,n.jsxs)("div",{className:"space-y-0 text-left flex items-start",children:[(0,n.jsx)("label",{className:"block text-regen-blue text-sm font-semibold font-Montserratmb-2",htmlFor:"grid-password",children:"Project Name"}),(0,n.jsx)("label",{className:"block px-2 text-regen-blue text-sm font-thin font-Montserratmb-2",htmlFor:"grid-password",children:"(Project title)"})]}),(0,n.jsx)("input",{type:"text",value:k,onChange:function(e){return E(e.target.value)},placeholder:"Name",className:" duration-300 font-thin text-sm rounded-md outline-gray-300 border border-grey focus:border-regen-sealighblue text-slate-900 p-2 w-full"}),(0,n.jsxs)("div",{className:"space-y-0 text-left flex items-start",children:[(0,n.jsx)("label",{className:"block text-regen-blue text-sm font-semibold font-Montserratmb-2",htmlFor:"grid-password",children:"Story of Project"}),(0,n.jsx)("label",{className:"block px-2 text-regen-blue text-sm font-thin font-Montserratmb-2",htmlFor:"grid-password",children:"(Please introduce the story of the project)"})]}),(0,n.jsx)("input",{type:"text",value:C,onChange:function(e){return R(e.target.value)},placeholder:"Story of the project",className:" duration-300 font-thin text-sm rounded-md outline-gray-300 border border-grey focus:border-regen-sealighblue text-slate-900 p-2 w-full"}),(0,n.jsxs)("div",{className:"space-y-0 text-left flex items-start",children:[(0,n.jsx)("label",{className:"block text-regen-blue text-sm font-semibold font-Montserratmb-2",htmlFor:"grid-password",children:"Your Story"}),(0,n.jsx)("label",{className:"block px-2 text-regen-blue text-sm font-thin font-Montserratmb-2",htmlFor:"grid-password",children:"(Please describe the story of the project)"})]}),(0,n.jsx)("textarea",{value:C,onChange:function(e){return R(e.target.value)},placeholder:"My Story",className:" duration-300 font-thin text-sm rounded-md outline-gray-300 border border-grey focus:border-regen-sealighblue text-slate-900 p-2 w-full"}),(0,n.jsxs)("div",{className:"space-y-0 text-left flex items-start",children:[(0,n.jsx)("label",{className:"block text-regen-blue text-sm font-semibold font-Montserratmb-2",htmlFor:"grid-password",children:"Site"}),(0,n.jsx)("label",{className:"block px-2 text-regen-blue text-sm font-thin font-Montserratmb-2",htmlFor:"grid-password",children:"(...project site URL)"})]}),(0,n.jsx)("input",{type:"url",value:A,onChange:function(e){return J(e.target.value)},placeholder:"My Facebook",className:" duration-300 font-thin text-sm rounded-md outline-gray-300 border border-grey focus:border-regen-sealighblue text-slate-900 p-2 w-full"}),(0,n.jsxs)("div",{className:"icon",onClick:function(){return v.current.click()},children:[(0,n.jsx)(d.B8K,{className:"text-[#1d9bf0] h-[22px]"}),(0,n.jsx)("input",{type:"file",ref:v,hidden:!0,onChange:X})]})]})]})})]})]})}},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var a=r(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(l),s=function(){return(s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r};function c(e){return function(t){return a.createElement(i,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,s({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,l=e.attr,n=e.size,c=e.title,i=o(e,["attr","size","title"]),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,i,{className:r,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[13,774,888,179],function(){return e(e.s=9086)}),_N_E=e.O()}]);